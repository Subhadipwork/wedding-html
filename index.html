<html>

<head>
    <meta charset="UTF-8">
    <meta name="csrf-token" content="SAn1VigN39Qd1JzBZhauQDXs2ti1t2SezHQLB6zM">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Primary Meta Tags -->
    <title>Merraige : Subhadip&Sarbani</title>
    <meta name="title" content="Merraige : Subhadip&Sarbani">
    <meta name="description" content="Dev-Azy">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500&family=Roboto:wght@100;300;400&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="./css/splide-core.min.css" />
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css" />
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css" />
    <!-- <link rel="stylesheet" href="./css/story-fix.css"> -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.12.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.12.0/mapbox-gl.js"></script>
    <style>
        .image-1 {
            background: url("https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/upload/invitation/1649774033_bg1.jpeg") center;
            background-size: cover;
        }

        .image-2 {
            background: url("https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/upload/invitation/1649774033_bg2.jpg") center;
            background-size: cover;
        }

        .image-3 {
            background: url("https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/upload/invitation/1649774033_bg3.jpg") center;
            background-size: cover;
        }

        /* Map styles */
        #mapbox-map {
            width: 100%;
            height: 400px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .map-container {
            position: relative;
            padding: 20px;
        }

        .map-info {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            position: absolute;
            bottom: 40px;
            left: 40px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            max-width: 300px;
            z-index: 2;
        }

        .map-info h4 {
            margin: 0 0 5px 0;
            color: #543203;
        }

        .map-info p {
            margin: 0;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .map-info {
                position: relative;
                bottom: auto;
                left: auto;
                margin-top: 15px;
                max-width: 100%;
            }
        }
    </style>

    <link rel="stylesheet" href="./css/kdo2.css">
    <link rel="stylesheet" href="./css/lightbox.min.css">



</head>

<body>
    <div class="modal" id="prokes_modal">
        <div class="modal-content" style="max-width: 400px!important;">
            <div class="top-border">
                <img width="40px"
                    src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/cdn/1642862592_Asset%201.png" />
            </div>
            <div class="bottom-border"></div>
            <div class="bottom-sign">
                <h3>-U & B-</h3>
            </div>
            <div class="body p-4" style="border-radius: 7px;overflow: hidden">
                <div style="text-align: center;padding-top: 10px;">
                    <h5>Health Protocol Information</h5>
                    <p>This event will be implemented by applying health protocols.</p>
                    <ul style="margin-top:20px;">
                        <li>
                            <div class="item">
                                <img src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/cdn/1640741678_Prokes_1.png"
                                    alt="">
                                Wear a Mask
                            </div>
                        </li>
                        <li>
                            <div class="item">
                                <img src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/cdn/1640741765_Prokes_2.png"
                                    alt="">
                                Keep Distance
                            </div>
                        </li>
                        <li>
                            <div class="item">
                                <img src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/cdn/1640741790_Prokes_3.png"
                                    alt="">
                                Wash Hands
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="prokes-footer">
                    <a href="javascript:void(0)" class="btn-outline-primary btn-ok-prokes"
                        onclick="confirm_open_invitation()">I Understand</a>
                </div>
            </div>
        </div>
    </div>
    <a class="hide" id="play_button" data-status="play" onclick="play_pause(this)" href="javascript:void(0)">
        <div id="audio_control" class="pause">
        </div>
    </a>
    <input type="hidden" id="song_url"
        value="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/songs/marry-your-daughter.mp3">

    <section id="index" class="index animate__animated animate__fadeIn animate__slower">
        <div class="frame animate__animated animate__fadeIn animate__slow animate__delay-1s">
            <div>
                <div class="flower-top animate__animated animate__fadeIn animate__slow animate__delay-2s"><img
                        src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/images/kdo2/index-flower.png" alt=""
                        width="100%"></div>
                <div class="animate__animated animate__bounceInDown animate__slower">
                    <h5 class="mb-3">You are invited to our wedding</h5>
                    <h2 class="font-secondary mb-3">Subhadip & Sarbani</h2>
                    <h4>Friday, July 04, 2025</h4>
                    <div class="card mb-6">
                        <div>
                            <small class="d-block">Dear</small>
                            <small class="d-block">Mr/Mrs/Brother/Sister</small>
                            <h5 id="nama"></h5>
                            <small>at Place</small>
                        </div>
                    </div>
                    <a id="open_invitation" href="#cover">Open Invitation</a>
                </div>
                <div class="flower-bottom animate__animated animate__fadeIn animate__slow animate__delay-2s"><img
                        src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/images/kdo2/index-flower.png" alt=""
                        width="100%"></div>
            </div>
        </div>
    </section>

    <div class="container hide">
        <div class="nav animate__animated animate__bounceInUp animate__slower animate__delay-2s">
            <ul>
                <li><a href="#bridegroom" class="bridegroomNavItem navItem active"><img
                            src="https://kadio.id/images/icon/mobile/1.svg" alt=""></a></li>
                <li><a href="#event" class="eventNavItem navItem"><img src="https://kadio.id/images/icon/mobile/2.svg"
                            alt=""></a></li>
                <li><a href="#story" class="storyNavItem navItem"><img src="https://kadio.id/images/icon/mobile/3.svg"
                            alt=""></a></li>
                <li><a href="#galery" class="galeryNavItem navItem"><img src="https://kadio.id/images/icon/mobile/4.svg"
                            alt=""></a></li>
                <li><a href="#rsvp" class="rsvpNavItem navItem"><img src="https://kadio.id/images/icon/mobile/5.svg"
                            alt=""></a></li>
            </ul>
        </div>

        <section class="cover" id="cover">
            <div id="container"></div>
            <div class="cover-background">
                <div class="animated-image image-1"></div>
                <div class="animated-image image-2"></div>
                <div class="animated-image image-3"></div>
            </div>
            <div class="overlay"></div>
            <div class="frame animate__animated animate__fadeIn animate__slow animate__delay-1s">
                <div class="detail">
                    <div class="flower-top animate__animated animate__fadeIn animate__slow animate__delay-1s"><img
                            src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/images/kdo2/index-flower.png"
                            alt="" width="100%"></div>
                    <h5 class="mb-3 animate__animated animate__flipInY animate__slower animate__delay-1s">We are getting
                        married</h5>
                    <h2 class="font-secondary mb-3 animate__animated animate__bounceInUp animate__slower">
                        Subhadip & Sarbani</h2>
                    <h4 class="animate__animated animate__bounceInUp animate__slower">
                        Friday, July 04, 2025</h4>
                    <p class="d-block animate__animated animate__bounceInUp animate__slower">- Save the Date -</p>
                    <div class="count_down" data-countdown="2025-07-04 12:00:00">
                        <div class="item animate__animated animate__bounceInUp animate__slower" data-days="00">00
                            <span>Days</span>
                        </div>
                        <div class="item animate__animated animate__bounceInUp animate__slower" data-hours="00">00
                            <span>Hours</span>
                        </div>
                        <div class="item animate__animated animate__bounceInUp animate__slower" data-minutes="00">00
                            <span>Minutes</span>
                        </div>
                        <div class="item animate__animated animate__bounceInUp animate__slower" data-seconds="00">00
                            <span>Seconds</span>
                        </div>
                    </div>
                    <div class="flower-bottom animate__animated animate__fadeIn animate__slow animate__delay-1s"><img
                            src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/images/kdo2/index-flower.png"
                            alt="" width="100%"></div>
                </div>
            </div>
        </section>

        <section class="bridegroom" id="bridegroom">
            <div class="content">
                <h2 data-aos="fade-up" data-aos-duration="1500">The Couple</h2>
                <p class="mt-4 mb-8" data-aos="fade-up" data-aos-duration="1000" style="white-space: pre-wrap;">
                    "Two souls, one journey—united in love and happiness."
                </p>
                <div class="row bride-profile">
                    <div class="left-flower"></div>
                    <div class="right-flower"></div>
                    <div class="col mb-6">
                        <div class="image-bride" data-aos="fade-right" data-aos-duration="1000">
                            <div class="bg-flower groom"></div>
                            <img class="bride"
                                src="https://stgjywwxprtgogaazehv.supabase.co/storage/v1/object/sign/weddingimage/jay.jpeg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5XzdhOTIzZDkxLWIzMjYtNDlkYS1iNGIwLTIwZjlmNmJjY2UwMCJ9.eyJ1cmwiOiJ3ZWRkaW5naW1hZ2UvamF5LmpwZWciLCJpYXQiOjE3NDg3Njc5MDAsImV4cCI6MTc4MDMwMzkwMH0.bsvHm2vqhmySRkbIcr7D9OBYESWp81xRZScsWiHeJgQ"
                                alt="Subhadip Das">
                            <div class="flower groom"></div>
                        </div>
                        <div data-aos="fade-up" data-aos-duration="1000">
                            <h4 class="mb-2 mt-2">Subhadip</h4>
                            <h5 class="mb-2">Subhadip Das</h5>
                            <p class="mb-2">Son of</p>
                            <p class="bold">Jayanta Das</p>
                            <p class="bold line-height-1">&</p>
                            <p class="bold mb-4">Suchitra Das</p>
                            <p style="white-space: pre-wrap">Kolkata, India</p>
                        </div>
                    </div>
                    <div class="col">
                        <div class="image-bride" data-aos="fade-left" data-aos-duration="1000">
                            <div class="bg-flower bride"></div>
                            <img class="bride" src="./images/sarbani.webp" alt="Sarbani Debnath">
                            <div class="flower bride"></div>
                        </div>
                        <div data-aos="fade-up" data-aos-duration="1000">
                            <h4 class="mb-2 mt-2">Sarbani</h4>
                            <h5 class="mb-2">Sarbani Debnath</h5>
                            <p class="mb-2">Daughter of</p>
                            <p class="bold">Naresh Debnath</p>
                            <p class="bold line-height-1">&</p>
                            <p class="bold mb-4">Sampa Debnath</p>
                            <p style="white-space: pre-wrap">Kolkata, India</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="event" id="event">
            <div class="content">
                <h2 class="mb-4" data-aos="fade-up" data-aos-duration="1500">Wedding Events</h2>
                <div class="row justify-center mt-6 flex-wrap">

                    <!-- Aiburobhat (Pre-Wedding Feast) -->
                    <div class="item mb-8">
                        <div class="detail" data-aos="fade-up" data-aos-duration="1000">
                            <h3 class="mb-2">Registry (Pre-Wedding Feast)</h3>
                            <p>Friday, May 2, 2025</p>
                            <p class="mb-2">12:00 PM - 3:00 PM IST</p>
                            <p class="bold mb-2">Soumodip Banquet Hall</p>
                            <p>Nahata, Gopalnagar, West Bengal</p>
                            <div class="d-flex align-center justify-center mt-3">
                                <a target="_blank" href="https://maps.app.goo.gl/dYLMU5T7vtFLeDfk9"
                                    class="btn-open-map mr-2">
                                    Open Map
                                    <img
                                        src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/images/icon/maps-white.png">
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Biye (Wedding Ceremony) -->
                    <div class="item mb-8">
                        <div class="detail" data-aos="fade-up" data-aos-duration="1000">
                            <h3 class="mb-2">Biye (Wedding Ceremony)</h3>
                            <p>Friday, July 4, 2025</p>
                            <!-- <p class="mb-2">6:00 PM - 9:00 PM IST</p> -->
                            <p class="bold mb-2">Soumodip Banquet Hall</p>
                            <p>Nahata, Gopalnagar, West Bengal</p>
                            <div class="d-flex align-center justify-center mt-3">
                                <a target="_blank" href="https://maps.app.goo.gl/dYLMU5T7vtFLeDfk9"
                                    class="btn-open-map mr-2">
                                    Open Map
                                    <img
                                        src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/images/icon/maps-white.png">
                                </a>
                                <a href="#" class="btn-open-live">
                                    Save the Date
                                    <img src="https://img.icons8.com/ios-filled/50/ffffff/calendar.png"
                                        alt="Calendar Icon" width="24">
                                </a>
                            </div>

                        </div>
                    </div>

                    <!-- Bou Bhat (Reception) -->
                    <div class="item mb-8">
                        <div class="detail" data-aos="fade-up" data-aos-duration="1000">
                            <h3 class="mb-2">Bou Bhat (Reception)</h3>
                            <p>Sunday, July 6, 2025</p>
                            <!-- <p class="mb-2">1:00 PM - 4:00 PM IST</p> -->
                            <p class="bold mb-2">Soumodip Banquet Hall</p>
                            <p>Nahata, Gopalnagar, West Bengal</p>
                            <div class="d-flex align-center justify-center mt-3">
                                <a target="_blank" href="https://maps.app.goo.gl/N5v1Jh8K9Xq7G3Xh6"
                                    class="btn-open-map mr-2">
                                    Open Map
                                    <img
                                        src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/images/icon/maps-white.png">
                                </a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>


        <section class="story" id="story">
            <div class="content">
                <h2 data-aos="fade-up" data-aos-duration="1500" class="mb-8">Our Love Story</h2>
                <div class="list-stories-new">
                    <div class="splide">
                        <div class="splide__track">
                            <ul class="splide__list">
                                <!-- First Meeting -->
                                <li class="splide__slide">
                                    <div class="detail">
                                        <div class="h-100">
                                            <div class="h-100 p-5">
                                                <h5 class="mb-2">The First Spark</h5>
                                                <p class="italic mb-2">School Days, 2016</p>
                                                <p>We were old school friends, but something changed in 2016. A small
                                                    spark, a first reaction, and everything started to feel different.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <!-- Getting Closer -->
                                <li class="splide__slide">
                                    <div class="detail">
                                        <div class="h-100">
                                            <div class="h-100 p-5">
                                                <h5 class="mb-2">Growing Closer</h5>
                                                <p class="italic mb-2">College Years, 2018</p>
                                                <p>As we moved into college, our friendship grew deeper. We shared
                                                    countless memories, endless conversations, and slowly realized our
                                                    bond was something special.</p>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <!-- Relationship Begins -->
                                <li class="splide__slide">
                                    <div class="detail">
                                        <div class="h-100">
                                            <div class="h-100 p-5">
                                                <h5 class="mb-2">A New Beginning</h5>
                                                <p class="italic mb-2">January, 2019</p>
                                                <p>It was in early 2019 when we both knew—this was love. What started as
                                                    a beautiful friendship turned into something even more meaningful.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <!-- Engagement -->
                                <li class="splide__slide">
                                    <div class="detail">
                                        <div class="h-100">
                                            <div class="h-100 p-5">
                                                <h5 class="mb-2">The Proposal</h5>
                                                <p class="italic mb-2">March, 2023</p>
                                                <p>After years of love and laughter, we took the next step. The proposal
                                                    was simple yet magical, marking the beginning of our forever.</p>
                                            </div>
                                        </div>
                                    </div>
                                </li>

                                <!-- Wedding -->
                                <li class="splide__slide">
                                    <div class="detail">
                                        <div class="h-100">
                                            <div class="h-100 p-5">
                                                <h5 class="mb-2">Happily Ever After</h5>
                                                <p class="italic mb-2">July, 2025</p>
                                                <p>And now, here we are—preparing to say "I do," surrounded by love,
                                                    family, and friends. Our journey has just begun, and we can't wait
                                                    to see where life takes us together.</p>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>



        <section class="galery" id="galery">
            <div class="content">
                <div class="top-left" data-aos="fade-up"></div>
                <div class="top-right"></div>
                <h2 data-aos="fade-up" data-aos-duration="1500">Photo Gallery</h2>
                <div class="image-list mt-4">
                    <!-- Images will be loaded here from Supabase via JavaScript -->
                    <!-- Loading indicator -->
                    <div class="loading-gallery" style="text-align: center; width: 100%; padding: 40px 0;">
                        <p>Loading gallery images...</p>
                        <div class="spinner"
                            style="margin: 20px auto; width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid #543203; border-radius: 50%; animation: spin 1s linear infinite;">
                        </div>
                    </div>

                    <!-- Default images will be replaced by Supabase images when loaded -->
                </div>
            </div>

            <!-- View more button -->
            <div class="view-more text-center mt-6" data-aos="fade-up" data-aos-duration="1000">
               <a href="https://weddingjaybook.netlify.app/" target="_blank" class="heart-link" title="View More Photos">
                    <div class="heart">
                        <span class="heart-text">Click Here</span>
                    </div>
                </a>
            </div>
        </section>

        <!-- Add this style for the loading spinner -->
        <style>
            .custom-marker {
                background-image: url('images/wedding.png');
                width: 50px;
                height: 50px;
                background-size: cover;
                border-radius: 50%;
                animation: pulse-glow 2s infinite ease-in-out;
            }

            @keyframes spin {
                0% {
                    transform: rotate(0deg);
                }

                100% {
                    transform: rotate(360deg);
                }
            }

            .image-list {
                position: relative;
                min-height: 200px;
            }

            .image-list .image {
                opacity: 0;
                animation: fadeIn 0.8s forwards;
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                }

                to {
                    opacity: 1;
                }
            }
        </style>

        <section class="rsvp" id="rsvp">
            <div class="content">
                <h2 class="text-center" data-aos="fade-up" data-aos-duration="1000">Blessings & Wishes</h2>
                <div class="form_message mt-6" data-aos="fade-up" data-aos-duration="1500">
                    <form id="form_message" action="">
                        <input type="hidden" id="invitation_code" name="invitation_code" value="872g3flu">
                        <input type="hidden" id="guest_id" name="guest_id" value="">
                        <input type="hidden" value="439" name="order_detail_invitation_id">

                        <label for="guest_name">Name:</label>
                        <input id="guest_name" type="text" name="guest_name" value="">
                        <p class="font-primary"></p>
                        <br>

                        <label for="message">Message for the Couple:</label>
                        <textarea id="message" type="text" name="message" rows="3" class="mb-5"></textarea>

                        <label for="presence">Will You Be Attending?</label>
                        <div class="mt-1 d-flex align-center">
                            <input type="radio" name="attendant" value="attend" id="hadir" checked>
                            <label class="font-primary ml-2" for="hadir">Attending</label>
                        </div>
                        <div class="mt-2 d-flex align-center">
                            <input type="radio" name="attendant" value="absent" id="absent">
                            <label class="font-primary ml-2" for="absent">Not Attending</label>
                        </div>
                        <div class="mt-2 d-flex align-center">
                            <input type="radio" name="attendant" value="maybe" id="maybe">
                            <label class="font-primary ml-2" for="maybe">Maybe</label>
                        </div>
                        <br>

                        <button type="button" id="btn_message" class="mb-4">
                            Send <img
                                src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/images/icon/send-blue.png"
                                alt="">
                        </button>

                        <br><br>

                        <p style="line-height: 25px;">Thank you for your blessings and warm wishes.</p>
                        <p class="mb-4 mt-4">With love,</p>
                        <b>
                            <p>Ucok & Butet</p>
                        </b>
                    </form>

                    <div class="flower">
                        <img src="https://s3.ap-southeast-1.amazonaws.com/cdn.kadio.id/images/kdo2/rsvp-flower.png"
                            alt="">
                    </div>
                </div>

                <div class="message_guest" data-aos="fade-up" data-aos-duration="1000">
                    <p class="mb-4">Blessings & Wishes from Guests</p>
                    <ul id="message_list" style="list-style: none;">
                        <li>
                            <span class="from">Elizabeth Bennet & Darcy</span>
                            <span class="guest_message">Marriage is a new chapter in life, filled with happiness,
                                togetherness, and all the beautiful things that come with it.</span>
                        </li>

                    </ul>
                </div>
            </div>
        </section>


        <section class="map" id="map">
            <div class="content">
                <h2 class="text-center" data-aos="fade-up" data-aos-duration="1000">Location</h2>
                <div class="map-container mt-6" data-aos="fade-up" data-aos-duration="1000">
                    <div id="mapbox-map"></div>
                    <div class="map-info">
                        <h4>Soumodip Banquet Hall</h4>
                        <p>Nahata, Gopalnagar, West Bengal</p>
                        <a href="https://maps.app.goo.gl/dYLMU5T7vtFLeDfk9" target="_blank" class="btn-open-map mt-2"
                            style="display: inline-block; margin-top: 10px;">
                            Get Directions
                        </a>
                    </div>
                </div>
            </div>
        </section>





        <section id="footer">
            <footer>
                <p style="text-align: center;padding:10px;margin-bottom: 0;">Designed by : <a target="_blank"
                        href=""><strong style="color: #543203;">Subhadip</strong></a></p>
                <!-- <img class="logo" src="https://yogiazy.github.io/assets/img/favicon.png" alt="" width="100"> -->
            </footer>
        </section>
    </div>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!-- <script src='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js'></script> -->

    <script src="./lightbox.js"></script>

    <script>
        AOS.init({
            duration: 1000,
            once: true,
            disable: 'mobile'
        });
        lightbox.option({
            'resizeDuration': 200,
            'wrapAround': true,
            'fadeDuration': 300,
            'imageFadeDuration': 300,
            'maxWidth': 800,
            'maxHeight': 600,
        });


    </script>


    <script src="./moment.js"></script>
    <script src="./count-down.js"></script>
    <script src="./common.js"></script>
    <script src="./gsap.js"></script>
    <script src="./falling-flower.js"></script>
    <script src="./splide.min.js"></script>
    <script src="./alertify.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="./rsvp.js"></script>
    <script src="./js/calendar.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- <script>
    document.addEventListener('DOMContentLoaded', function () {
        setTimeout(function () {
            mapboxgl.accessToken = 'pk.eyJ1IjoibWF4amF5NDIwIiwiYSI6ImNtNzFscmZicDAxMm4yanFvN2lrcG1pY3AifQ.hMfPbRB7A7s_cMcYcSiX8w';

            const weddingLocation = [88.699529, 22.988069];

            const map = new mapboxgl.Map({
                container: 'mapbox-map',
                style: 'mapbox://styles/mapbox/navigation-guidance-night-v4',
                center: weddingLocation,
                zoom: 15.5,
                pitch: 60, // Tilt the map
                bearing: -17.6, // Rotate slightly for 3D effect
                antialias: true
            });

            map.addControl(new mapboxgl.NavigationControl(), 'top-right');

            const el = document.createElement('div');
            el.className = 'custom-marker';
          

            new mapboxgl.Marker({ element: el, anchor: 'bottom' })
                .setLngLat(weddingLocation)
                .addTo(map);

            new mapboxgl.Popup({
                closeButton: false,
                offset: 25
            })
                .setLngLat(weddingLocation)
              .setHTML(`
  <div style="width:220px">
    <strong>Soumodip Banquet Hall</strong>
    <div class="splide" style="margin-top:5px;" aria-label="Wedding Venue Photos">
      <div class="splide__track">
        <ul class="splide__list">
          <li class="splide__slide"><img src="https://via.placeholder.com/200x120?text=Hall+1" /></li>
          <li class="splide__slide"><img src="https://via.placeholder.com/200x120?text=Hall+2" /></li>
          <li class="splide__slide"><img src="https://via.placeholder.com/200x120?text=Decoration" /></li>
        </ul>
      </div>
    </div>
    <a href="https://your-rsvp-link.com" target="_blank" style="display:inline-block;margin-top:10px;padding:6px 12px;background:#e91e63;color:#fff;text-decoration:none;border-radius:6px;font-size:14px;">
      💌 RSVP Now
    </a>
  </div>
`)

                .setMaxWidth('300px')
                .setCloseOnClick(false)

                .addTo(map);

            map.flyTo({
                center: weddingLocation,
                zoom: 16,
                speed: 0.8,
                curve: 1.5,
                pitch: 60,
                bearing: -30
            });

const landmarks = [
  {
    coords: [88.7008, 22.9859],
    title: 'Nearby Hotel',
    desc: 'Stay before or after the wedding 🌃',
    icon: 'https://cdn-icons-png.flaticon.com/512/854/854894.png'
  },
  {
    coords: [88.6967, 22.9898],
    title: 'Railway Station',
    desc: '5 min walk from the venue 🚆',
    icon: 'https://cdn-icons-png.flaticon.com/512/3448/3448662.png'
  }
];

landmarks.forEach(loc => {
  const el = document.createElement('div');
  el.style.backgroundImage = `url('${loc.icon}')`;
  el.style.width = '36px';
  el.style.height = '36px';
  el.style.backgroundSize = 'cover';
  el.style.borderRadius = '50%';

  new mapboxgl.Marker({ element: el })
    .setLngLat(loc.coords)
    .setPopup(new mapboxgl.Popup({ offset: 25 }).setHTML(`
      <strong>${loc.title}</strong><br/><small>${loc.desc}</small>
    `))
    .addTo(map);
});

            map.on('load', function () {
                map.resize();

                // Insert 3D buildings layer
                const layers = map.getStyle().layers;
                const labelLayerId = layers.find(
                    layer => layer.type === 'symbol' && layer.layout['text-field']
                )?.id;

                map.addLayer({
                    'id': '3d-buildings',
                    'source': 'composite',
                    'source-layer': 'building',
                    'filter': ['==', 'extrude', 'true'],
                    'type': 'fill-extrusion',
                    'minzoom': 15,
                    'paint': {
                        'fill-extrusion-color': '#aaa',

                        // Use the building height for 3D
                        'fill-extrusion-height': ['get', 'height'],
                        'fill-extrusion-base': ['get', 'min_height'],
                        'fill-extrusion-opacity': 0.6
                    }
                }, labelLayerId);
            });
        }, 1000);
    });
</script> -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize the map with a slight delay to ensure container is ready
            setTimeout(initializeMap, 1000);

            function initializeMap() {
                // Mapbox access token
                mapboxgl.accessToken = 'pk.eyJ1IjoibWF4amF5NDIwIiwiYSI6ImNtNzFscmZicDAxMm4yanFvN2lrcG1pY3AifQ.hMfPbRB7A7s_cMcYcSiX8w';

                // Wedding venue coordinates
                const weddingLocation = [88.699529, 22.988069];

                // Create the map with 3D view settings
                const map = new mapboxgl.Map({
                    container: 'mapbox-map',
                    style: 'mapbox://styles/mapbox/navigation-guidance-night-v4',
                    center: weddingLocation,
                    zoom: 15.5,
                    pitch: 60, // Tilts the map for 3D effect
                    bearing: -17.6, // Slight rotation for better 3D perspective
                    antialias: true // Smoother edges for 3D buildings
                });

                // Add navigation controls
                map.addControl(new mapboxgl.NavigationControl(), 'top-right');

                // Add the main wedding venue marker
                addWeddingVenueMarker(map, weddingLocation);

                // Add nearby landmarks
                addNearbyLandmarks(map);

                // Animate to the venue with a flyTo effect
                animateToVenue(map, weddingLocation);

                // Setup 3D buildings and other map features when loaded
                map.on('load', function () {
                    map.resize();
                    add3DBuildings(map);
                });
            }

            function addWeddingVenueMarker(map, location) {
                // Create custom marker element
                const el = document.createElement('div');
                el.className = 'custom-marker';

                // Add the marker to the map
                new mapboxgl.Marker({
                    element: el,
                    anchor: 'bottom'
                })
                    .setLngLat(location)
                    .addTo(map);

                // Add an informative popup for the venue
                new mapboxgl.Popup({
                    closeButton: false,
                    offset: 25,
                    maxWidth: '300px', 
                    closeOnClick: false
                })
                    .setLngLat(location)
                    .setHTML(`
            <div style="width:220px">
                <strong style="font-size: 16px; color: #543203;">Soumodip Banquet Hall</strong>
                <p style="margin: 8px 0; font-size: 14px;">
                    <i class="fa fa-map-marker" style="color: #e91e63;"></i> 
                    Nahata, Gopalnagar, West Bengal
                </p>
                <div style="margin-top: 10px;">
                    <a href="https://maps.app.goo.gl/dYLMU5T7vtFLeDfk9" 
                       target="_blank" 
                       style="display: inline-block; 
                              padding: 6px 12px;
                              background: #543203;
                              color: #fff;
                              text-decoration: none;
                              border-radius: 4px;
                              font-size: 13px;">
                        <i class="fa fa-directions"></i> Get Directions
                    </a>
                </div>
            </div>
        `)
                    .addTo(map);

                setTimeout(() => {
                    if (typeof Splide !== 'undefined') {
                        new Splide('.splide').mount();
                    }
                }, 100);
            }

            function addNearbyLandmarks(map) {
                
                const landmarks = [
                    {
                        coords: [88.7032648, 22.9859433],
                        title: 'Subhadip\'s Home',
                        desc: 'Groom\'s residence 🏡',
                        icon: 'https://cdn-icons-png.flaticon.com/512/619/619034.png' // Groom icon
                    },
                    {
                        coords: [88.702960,22.988856], // You'll need to replace with Sarbani's actual coordinates
                        title: 'Sarbani\'s Home',
                        desc: 'Bride\'s residence 🏡',
                        icon: 'https://cdn-icons-png.flaticon.com/512/599/599919.png' // Bride icon
                    },
                    {
                        coords: [88.7825775,22.9609547],
                        title: 'Chandpara Railway Station',
                        desc: '13km Station  the venue 🚆',
                        icon: 'https://cdn-icons-png.flaticon.com/512/3448/3448662.png'
                    }
                ];

                // Add each landmark to the map
                landmarks.forEach(loc => {
                    const el = document.createElement('div');
                    el.style.backgroundImage = `url('${loc.icon}')`;
                    el.style.width = '36px';
                    el.style.height = '36px';
                    el.style.backgroundSize = 'cover';
                    el.style.borderRadius = '50%';

                    new mapboxgl.Marker({ element: el })
                        .setLngLat(loc.coords)
                        .setPopup(
                            new mapboxgl.Popup({ offset: 25 })
                                .setHTML(`<strong>${loc.title}</strong><br/><small>${loc.desc}</small>`)
                        )
                        .addTo(map);
                });
            }
            function animateToVenue(map, location) {
                map.flyTo({
                    center: location,
                    zoom: 16,
                    speed: 0.8,
                    curve: 1.5,
                    pitch: 60,
                    bearing: -30
                });
            }

            function add3DBuildings(map) {
                // Find the first symbol layer (usually contains labels)
                const layers = map.getStyle().layers;
                const labelLayerId = layers.find(
                    layer => layer.type === 'symbol' && layer.layout['text-field']
                )?.id;

                // Add 3D building extrusions
                map.addLayer({
                    'id': '3d-buildings',
                    'source': 'composite',
                    'source-layer': 'building',
                    'filter': ['==', 'extrude', 'true'],
                    'type': 'fill-extrusion',
                    'minzoom': 15,
                    'paint': {
                        'fill-extrusion-color': '#aaa',
                        'fill-extrusion-height': ['get', 'height'],
                        'fill-extrusion-base': ['get', 'min_height'],
                        'fill-extrusion-opacity': 0.6
                    }
                }, labelLayerId); // Insert before labels so they appear on top
            }
        });
    </script>

</body>

</html>